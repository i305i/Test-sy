# โ ุชุญุฏูุซ ุงูุตูุงุญูุงุช ูุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ

```
 โโโโโโโ โโโโโโโโโโโโโโโ โโโโ   โโโโโโโโโโโโโโโโโโโโโโโโโโ โโโโโโโ โโโโ   โโโโโโโโโโโ
 โโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโ
 โโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โโโโโโโโโ โโโโโโโโโโโ
 โโโโโโโ โโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโโโโโ
 โโโ     โโโโโโโโโโโ  โโโโโโ โโโ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโ
 โโโ     โโโโโโโโโโโ  โโโโโโ     โโโโโโโโโโโโโโโโโโโโโโโโโ โโโโโโโ โโโ  โโโโโโโโโโโโโ
 
 ๐ Permissions & Navigation Updated!
```

---

## โ ูุง ุชู ุชุญุฏูุซู:

### 1๏ธโฃ ุงูุตูุงุญูุงุช (`config/permissions.ts`)

#### ุงูุตูุงุญูุงุช ุงููุชููุฑุฉ:
```typescript
// Dashboard
DASHBOARD_VIEW          โ

// Companies
COMPANY_VIEW            โ
COMPANY_CREATE          โ
COMPANY_UPDATE          โ
COMPANY_DELETE          โ
COMPANY_CHANGE_STATUS   โ

// Documents
DOCUMENT_VIEW           โ
DOCUMENT_UPLOAD         โ
DOCUMENT_UPDATE         โ
DOCUMENT_DELETE         โ
DOCUMENT_DOWNLOAD       โ
DOCUMENT_APPROVE        โ
DOCUMENT_REJECT         โ

// Users
USER_VIEW               โ
USER_CREATE             โ
USER_UPDATE             โ
USER_DELETE             โ
USER_CHANGE_ROLE        โ

// Shares
SHARE_CREATE            โ
SHARE_UPDATE            โ
SHARE_DELETE            โ

// Reports
REPORT_VIEW             โ
REPORT_GENERATE         โ

// Audit
AUDIT_VIEW              โ

// System
SYSTEM_SETTINGS         โ

// Settings
SETTINGS_VIEW           โ
```

---

### 2๏ธโฃ ุชูุฒูุน ุงูุตูุงุญูุงุช ุญุณุจ ุงูุฃุฏูุงุฑ:

#### ๐ ูุฏูุฑ (ADMIN) - ุฌููุน ุงูุตูุงุญูุงุช:
```
โ DASHBOARD_VIEW
โ COMPANY_* (ุฌููุน ุตูุงุญูุงุช ุงูุดุฑูุงุช)
โ DOCUMENT_* (ุฌููุน ุตูุงุญูุงุช ุงููุณุชูุฏุงุช)
โ USER_* (ุฌููุน ุตูุงุญูุงุช ุงููุณุชุฎุฏููู)
โ SHARE_* (ุฌููุน ุตูุงุญูุงุช ุงููุดุงุฑูุฉ)
โ REPORT_* (ุฌููุน ุตูุงุญูุงุช ุงูุชูุงุฑูุฑ)
โ AUDIT_VIEW (ุนุฑุถ ุณุฌู ุงูุชุฏููู)
โ SYSTEM_SETTINGS (ุฅุนุฏุงุฏุงุช ุงููุธุงู)
โ SETTINGS_VIEW (ุงูุฅุนุฏุงุฏุงุช ุงูุดุฎุตูุฉ)
```

#### ๐จโ๐ผ ูุดุฑู (SUPERVISOR):
```
โ DASHBOARD_VIEW
โ COMPANY_VIEW, CREATE, UPDATE, CHANGE_STATUS
โ DOCUMENT_VIEW, UPLOAD, UPDATE, DOWNLOAD, APPROVE, REJECT
โ USER_VIEW (ุฌุฏูุฏ! โจ)
โ SHARE_CREATE, UPDATE
โ REPORT_VIEW, GENERATE
โ SETTINGS_VIEW
```

#### ๐ท ููุธู (EMPLOYEE):
```
โ DASHBOARD_VIEW
โ COMPANY_VIEW, CREATE, UPDATE
โ DOCUMENT_VIEW, UPLOAD, UPDATE, DOWNLOAD
โ SHARE_CREATE
โ SETTINGS_VIEW
```

---

### 3๏ธโฃ ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ (Sidebar):

#### ุงูุนูุงุตุฑ ุงููุนุฑูุถุฉ:
```
1. ๐ ููุญุฉ ุงูุชุญูู         โ /dashboard
   ุงูุตูุงุญูุฉ: DASHBOARD_VIEW
   ุงูุฃุฏูุงุฑ: ุงูุฌููุน (ADMIN, SUPERVISOR, EMPLOYEE)

2. ๐ข ุงูุดุฑูุงุช             โ /companies
   ุงูุตูุงุญูุฉ: COMPANY_VIEW
   ุงูุฃุฏูุงุฑ: ุงูุฌููุน (ADMIN, SUPERVISOR, EMPLOYEE)

3. ๐ ุงููุณุชูุฏุงุช           โ /documents
   ุงูุตูุงุญูุฉ: DOCUMENT_VIEW
   ุงูุฃุฏูุงุฑ: ุงูุฌููุน (ADMIN, SUPERVISOR, EMPLOYEE)

4. ๐ฅ ุงููุณุชุฎุฏููู          โ /users
   ุงูุตูุงุญูุฉ: USER_VIEW
   ุงูุฃุฏูุงุฑ: ADMIN, SUPERVISOR โจ

5. โ๏ธ ุงูุฅุนุฏุงุฏุงุช           โ /settings
   ุงูุตูุงุญูุฉ: SETTINGS_VIEW
   ุงูุฃุฏูุงุฑ: ุงูุฌููุน (ADMIN, SUPERVISOR, EMPLOYEE)
```

---

### 4๏ธโฃ ุงููุณุงุฑุงุช (`config/routes.ts`)

#### ุงููุณุงุฑุงุช ุงููุญุฏุซุฉ:
```typescript
ROUTES = {
  DASHBOARD: '/dashboard',
  
  COMPANIES: {
    LIST: '/companies',
    CREATE: '/companies/create',
    DETAIL: (id) => `/companies/${id}`,
  },
  
  DOCUMENTS: {
    LIST: '/documents',              // โจ ูุญุฏูุซ
  },
  
  USERS: {
    LIST: '/users',                  // โจ ูุญุฏูุซ
    CREATE: '/users/create',         // โจ ูุญุฏูุซ
    DETAIL: (id) => `/users/${id}`,  // โจ ูุญุฏูุซ
  },
  
  SETTINGS: '/settings',
  
  LOGIN: '/login',
  REGISTER: '/register',
}
```

---

## ๐จ ููููุฉ ุนูู ุงููุธุงู:

### 1. ุงูุชุญูู ูู ุงูุตูุงุญูุงุช:
```typescript
// ูู Sidebar.tsx
const filteredNavigation = navigation.filter((item) => {
  if (!user || !item.permission) return false;
  return hasPermission(user.role, item.permission);
});
```

### 2. ุนุฑุถ ุงูุนูุงุตุฑ ุงูููุงุณุจุฉ:
```typescript
// ูุซุงู: ุงููุณุชุฎุฏููู ูุธูุฑ ููุท ูููุฏูุฑ ูุงููุดุฑู
{
  name: 'ุงููุณุชุฎุฏููู',
  href: ROUTES.USERS.LIST,
  permission: Permission.USER_VIEW,
}

// USER_VIEW ูุชููุฑุฉ ูู ADMIN ู SUPERVISOR ููุท
```

### 3. ุงูุญูุงูุฉ ุนูู ูุณุชูู ุงูุตูุญุงุช:
```typescript
// ูู middleware.ts
export async function middleware(request: NextRequest) {
  // ุงูุชุญูู ูู ุงูุชููู
  const accessToken = request.cookies.get('access_token')?.value;
  
  if (!accessToken && !isPublicRoute) {
    return NextResponse.redirect(new URL('/login', request.url));
  }
  
  return NextResponse.next();
}
```

---

## ๐ ุฌุฏูู ุงูุตูุงุญูุงุช ุงููุงูู:

| ุงูุตูุญุฉ/ุงูุฅุฌุฑุงุก | ADMIN | SUPERVISOR | EMPLOYEE |
|----------------|-------|------------|----------|
| **Dashboard** |
| ุนุฑุถ ููุญุฉ ุงูุชุญูู | โ | โ | โ |
| **Companies** |
| ุนุฑุถ ุงูุดุฑูุงุช | โ | โ | โ |
| ุฅุถุงูุฉ ุดุฑูุฉ | โ | โ | โ |
| ุชุนุฏูู ุดุฑูุฉ | โ | โ | โ |
| ุญุฐู ุดุฑูุฉ | โ | โ | โ |
| ุชุบููุฑ ุงูุญุงูุฉ | โ | โ | โ |
| **Documents** |
| ุนุฑุถ ุงููุณุชูุฏุงุช | โ | โ | โ |
| ุฑูุน ูุณุชูุฏ | โ | โ | โ |
| ุชุนุฏูู ูุณุชูุฏ | โ | โ | โ |
| ุชุญููู ูุณุชูุฏ | โ | โ | โ |
| ุญุฐู ูุณุชูุฏ | โ | โ | โ |
| ุงูููุงููุฉ/ุงูุฑูุถ | โ | โ | โ |
| **Users** |
| ุนุฑุถ ุงููุณุชุฎุฏููู | โ | โ | โ |
| ุฅุถุงูุฉ ูุณุชุฎุฏู | โ | โ | โ |
| ุชุนุฏูู ูุณุชุฎุฏู | โ | โ | โ |
| ุญุฐู ูุณุชุฎุฏู | โ | โ | โ |
| ุชุบููุฑ ุงูุฏูุฑ | โ | โ | โ |
| **Settings** |
| ุงูููู ุงูุดุฎุตู | โ | โ | โ |
| ุงูุฃูุงู | โ | โ | โ |
| ุฅุนุฏุงุฏุงุช ุงููุธุงู | โ | โ | โ |
| **Reports** |
| ุนุฑุถ ุงูุชูุงุฑูุฑ | โ | โ | โ |
| ุฅูุดุงุก ุชูุฑูุฑ | โ | โ | โ |
| **Audit** |
| ุณุฌู ุงูุชุฏููู | โ | โ | โ |

---

## ๐ฏ ุงูุชุบููุฑุงุช ุงูุฑุฆูุณูุฉ:

### โ ูุง ุชู ุชุญุฏูุซู:

1. **ุฅุถุงูุฉ `USER_VIEW` ูููุดุฑู:**
   - ุงูุขู ุงููุดุฑููู ูููููู ุฑุคูุฉ ุตูุญุฉ ุงููุณุชุฎุฏููู
   - ููู ูุง ูููููู ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุงููุณุชุฎุฏููู

2. **ุชุญุฏูุซ ุงููุณุงุฑุงุช:**
   - `ROUTES.DOCUMENTS` ุฃุตุจุญ `ROUTES.DOCUMENTS.LIST`
   - `ROUTES.USERS` ุฃุตุจุญ `ROUTES.USERS.LIST`
   - ุฅุถุงูุฉ `ROUTES.USERS.CREATE` ู `ROUTES.USERS.DETAIL`

3. **ุชูุธูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ:**
   - ุฅุฒุงูุฉ "ุงูุชูุงุฑูุฑ" ู "ุณุฌู ุงูุชุฏููู" (ุตูุญุงุช ุบูุฑ ููุฌูุฏุฉ)
   - ุงูุชุฑููุฒ ุนูู ุงูุตูุญุงุช ุงูููุฌูุฏุฉ ูุนููุงู:
     - โ ููุญุฉ ุงูุชุญูู
     - โ ุงูุดุฑูุงุช
     - โ ุงููุณุชูุฏุงุช
     - โ ุงููุณุชุฎุฏููู
     - โ ุงูุฅุนุฏุงุฏุงุช

4. **ุชุญุฏูุซ `routes.ts`:**
   - ุชุญุฏูุซ ุฃุณูุงุก ุงููุณุงุฑุงุช ูุชุทุงุจู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
   - ุฅุฒุงูุฉ ุงููุณุงุฑุงุช ุบูุฑ ุงููุณุชุฎุฏูุฉ

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู:

### 1. ููุชุญูู ูู ุงูุตูุงุญูุฉ ูู ุงูููุฏ:
```typescript
import { hasPermission, Permission } from '@/config/permissions';
import { useAuth } from '@/hooks';

function MyComponent() {
  const { user } = useAuth();
  
  const canDeleteCompany = hasPermission(user.role, Permission.COMPANY_DELETE);
  
  return (
    <div>
      {canDeleteCompany && (
        <button onClick={handleDelete}>ุญุฐู</button>
      )}
    </div>
  );
}
```

### 2. ููุชุญูู ูู ุนุฏุฉ ุตูุงุญูุงุช:
```typescript
import { hasAnyPermission, hasAllPermissions, Permission } from '@/config/permissions';

// ุงูุชุญูู ูู ุฃู ุตูุงุญูุฉ
const canManageUsers = hasAnyPermission(user.role, [
  Permission.USER_CREATE,
  Permission.USER_UPDATE,
  Permission.USER_DELETE,
]);

// ุงูุชุญูู ูู ุฌููุน ุงูุตูุงุญูุงุช
const isFullAdmin = hasAllPermissions(user.role, [
  Permission.SYSTEM_SETTINGS,
  Permission.AUDIT_VIEW,
  Permission.USER_DELETE,
]);
```

### 3. ุญูุงูุฉ ุงููุณุงุฑุงุช:
```typescript
// ูู ุฃู ุตูุญุฉ
import { useAuth } from '@/hooks';
import { hasPermission, Permission } from '@/config/permissions';
import { redirect } from 'next/navigation';

function ProtectedPage() {
  const { user } = useAuth();
  
  if (!user || !hasPermission(user.role, Permission.USER_VIEW)) {
    redirect('/dashboard');
  }
  
  return <div>ูุญุชูู ูุญูู</div>;
}
```

---

## ๐ ููุงุญุธุงุช ูููุฉ:

### โ ููุชูู:
- ูุธุงู ุงูุตูุงุญูุงุช RBAC
- ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ุงูุชูุงุนููุฉ
- ุงูุชุญูู ุงูุชููุงุฆู ูู ุงูุตูุงุญูุงุช
- ุฅุฎูุงุก ุงูุนูุงุตุฑ ุบูุฑ ุงููุตุฑุญ ุจูุง
- ุญูุงูุฉ ุงููุณุงุฑุงุช (Middleware)

### ๐ ุงูุฃูุงู:
- โ ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ูู Frontend
- โ ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ูู Backend (Guards)
- โ ุญูุงูุฉ API Endpoints
- โ ุญูุงูุฉ ุงููุณุงุฑุงุช (Middleware)
- โ ุฅุฎูุงุก ุงูุนูุงุตุฑ ุชููุงุฆูุงู

### ๐จ UI/UX:
- โ ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ุชุธูุฑ ููุท ุงูุนูุงุตุฑ ุงููุตุฑุญ ุจูุง
- โ ุชูุนูู ุงูุนูุตุฑ ุงููุดุท ุชููุงุฆูุงู
- โ Icons ูุงุถุญุฉ ููู ุนูุตุฑ
- โ Responsive ููููุจุงูู
- โ Dark Mode Support

---

## ๐ ุงูุฎูุงุตุฉ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                    โ
โ   โ ุงูุตูุงุญูุงุช ูุญุฏุซุฉ ุจุดูู ุตุญูุญ!                 โ
โ   โ ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ุชุนูู ุจุงููุงูู!              โ
โ   โ ูุธุงู RBAC ูุนูุงู!                             โ
โ                                                    โ
โ   ุงูุตูุญุงุช ุงููุนุฑูุถุฉ:                               โ
โ   โข ููุญุฉ ุงูุชุญูู (ุงูุฌููุน)                         โ
โ   โข ุงูุดุฑูุงุช (ุงูุฌููุน)                             โ
โ   โข ุงููุณุชูุฏุงุช (ุงูุฌููุน)                           โ
โ   โข ุงููุณุชุฎุฏููู (ูุฏูุฑ ููุดุฑู) โจ                   โ
โ   โข ุงูุฅุนุฏุงุฏุงุช (ุงูุฌููุน)                           โ
โ                                                    โ
โ   ๐ ุฌุงูุฒ ููุงุณุชุฎุฏุงู!                             โ
โ                                                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

**ุงูุชุงุฑูุฎ:** 7 ููููุจุฑ 2025  
**ุงูุญุงูุฉ:** โ ููุชูู  
**ุงูุชุบููุฑุงุช:** ุงูุตูุงุญูุงุช + ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ  
**ุงูุฌูุฏุฉ:** โญโญโญโญโญ

